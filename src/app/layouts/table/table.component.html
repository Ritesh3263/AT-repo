<div fxLayout fxLayoutAlign="end center" class="mt-10">

    <mat-form-field appearance="outline" fxFlex="25" fxFlex.sm="40" fxFlex.xs="60" *ngIf="enableSearch">
        <input matInput placeholder="{{searchText}}" [(ngModel)]="search" (ngModelChange)="getData()">
        <mat-icon matPrefix>search</mat-icon>
    </mat-form-field>
</div>
<div class="mat-elevation-z8"><!-- trading-table height-auto table-scroll  -->
    <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)">
        <ng-container matColumnDef="{{column.key}}" *ngFor="let column of columnDetails">
            <div *ngIf="column.type == 'image'">
                <th mat-header-cell *matHeaderCellDef> </th>
                <td mat-cell *matCellDef="let element"><img src="{{element.profilePhoto}}" class="profile-icon" [hidden]="!element.profilePhoto"/></td>
            </div>

            <div *ngIf="column.type != 'image'">
                <th mat-header-cell *matHeaderCellDef mat-sort-header sortActionDescription="Sort by Name"> {{column.label}} </th>
                <td mat-cell *matCellDef="let element"> {{element[column.key]}} </td>
            </div>

        </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;" (click)="rowClickCallback ? rowClickCallback(row) : null"></tr>
    </table>
    <mat-paginator #paginator
        (page)="handlePageEvent($event)"
        [length]="pagination.totalRows"
        [pageSize]="pagination.pageSize"
        [showFirstLastButtons]="true"
        [pageSizeOptions]="[10, 50, 100]"
        [pageIndex]="pagination.pageNumber"
        aria-label="Select page of data">
    </mat-paginator>
</div>