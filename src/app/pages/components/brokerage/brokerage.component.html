<div class="basket-wrapper">
    <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="start" animationDuration="0ms" class="trade-tabs brokerage-tabs">
        <mat-tab>
            <ng-template mat-tab-label>
                <span fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
                    <span>Brokerage</span>
                </span>
            </ng-template>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px" class="mt-20 pt-10">
                <div fxFlex="20" fxFlex.md="30" fxFlex.sm="50" fxFlex.xs>
                    <img src="/assets/images/tradestation_logo.svg" style="width: 200px;" />
                </div>
                <button *ngIf="!userData" mat-flat-button color="primary" (click)="connectDialog()">
                    Connect
                </button>
            </div>
            <div fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="20px" class="mt-20 pt-10">
                <div fxFlex="20" fxFlex.md="30" fxFlex.sm="50" fxFlex.xs>
                    <img src="/assets/images/interactivebrokers_logo.svg" style="width: 220px;" />
                </div>
                <button *ngIf="!userData" mat-flat-button color="primary" (click)="connectDialog()">
                    Connect
                </button>
            </div>
        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <span fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="8px">
                    <span>Accounts</span>
                </span>
            </ng-template>
            <form class="example-form">

            <div fxLayout="row" class="mt-20">
                <mat-form-field appearance="outline" fxFlex="25" fxFlex.sm="50" fxFlex.xs="100">
                    <mat-label>Select Brokerage</mat-label>
                    <mat-select [(value)]="selectedOption" [formControl]="brokerage_type" (selectionChange)="getBrokerageAccount($event)">
                        <mat-option value="1">Tradestation</mat-option>
                        <mat-option value="2">Interactive Brokers</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            </form>
            <!-- <ngx-spinner type = "ball-square-clockwise-spin" [fullScreen] = "true"></ngx-spinner>
            <mat-spinner *ngIf="showSpinner" diameter="50" color="accent" mode="indeterminate"></mat-spinner> -->

            <div class="trading-table height-auto table-scroll with-padding">
                <div *ngIf="showSpinner" class="spinner-wrapper">
                    <app-spinner></app-spinner>
                  </div>
                <table mat-table [dataSource]="dataSource">

                    <ng-container matColumnDef="accountNumber">
                        <th mat-header-cell *matHeaderCellDef> Account Id </th>
                        <td mat-cell *matCellDef="let element">
                            {{element.AccountID}}
                        </td>
                    </ng-container>

                    <ng-container matColumnDef="accountBalance">
                        <th mat-header-cell *matHeaderCellDef class="text-center"> Account Type </th>
                        <td mat-cell *matCellDef="let element" class="text-center"> {{element.AccountType}} </td>
                    </ng-container>

                    <ng-container matColumnDef="openPositions">
                        <th mat-header-cell *matHeaderCellDef class="text-center"> Open Status </th>
                        <td mat-cell *matCellDef="let element" class="text-center"> {{element.Status}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                </table>
            </div>
            <mat-paginator [pageSizeOptions]="[10, 50, 100]" showFirstLastButtons
                aria-label="Select page of periodic elements">
            </mat-paginator>
        </mat-tab>
    </mat-tab-group>
</div>
